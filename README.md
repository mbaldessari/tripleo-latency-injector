# tripleo-latency-injector
Script to inject latencies based upon user-define intrarole and iterrole latencies

Run the command like this:
```./generateqos.py cloud-inventory.yaml cloud-latencies.yaml```

```cloud-inventory.yaml``` should be a yaml inventory as generated by the following command:
```tripleo-ansible-inventory --static-yaml-inventory cloud-inventory.yaml```

```cloud-latencies.yaml``` is a YAML file containing the latencies definitions:
```
#DefaultLatency: 5ms
IntraRoleLatency:
  Controller: 20ms
  Compute: 10ms
  CephStorage: 2ms
InterRoleLatency:
  Controller_Compute: 100ms
  Compute_CephStorage: 200ms
  Controller_CephStorage: 300ms
```

The above config file will generate the following latencies:
* 30ms amongst each Controller node
* 10ms amongst each Compute node
* 2ms amongst each CephStorage node
* 100ms between Controllers and Computes
* 200ms between Computes and CephStorage nodes
* 300ms between Controller and CephStorage nodes
